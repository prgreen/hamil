// Generated by CoffeeScript 1.6.1
(function() {
  var $;

  $ = jQuery;

  $(function() {
    var socket;
    socket = io.connect("");
    socket.on('error', function(reason) {
      $('#server-message-box').show('slow');
      return $('#server-message').html('<span class="label label-warning">Could not reach server. Make sure your browser supports cookies then reload this page.</span>');
    });
    return socket.on('connect', function() {
      $('#server-message-box').show('slow');
      $('#server-message').html('<span class="label label-success">The server is operational and ready!</span>');
      $('#form-signin').submit(function(e) {
        e.preventDefault();
        return socket.emit('signin', {
          name: $('#input-name').val()
        });
      });
      socket.on('redirect', function(data) {
        return window.location.href = data.url;
      });
      return socket.on('bad username', function(data) {
        $('#server-message-box').hide();
        $('#server-message-box').show('slow');
        return $('#server-message').html('<span class="label label-important">' + data.error + '</span>');
      });
    });
  });

}).call(this);
